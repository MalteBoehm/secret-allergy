{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/malte/Desktop/secretAllergy/secret-allergy/frontend/src/components/LoginScreen/LoginForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport { Input, Button } from 'react-native-elements';\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport AuthContext from \"../../context/AuthContext\";\nimport DashboardScreen from \"../../screens/DashboardScreen\";\nvar initialState = {\n  username: \"\",\n  password: \"\"\n};\nexport default function LoginForm(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(AuthContext),\n      loginWithUserCredentials = _useContext.loginWithUserCredentials;\n\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      loginData = _useState2[0],\n      setLoginData = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, React.createElement(Input, {\n    placeholder: \"Username\",\n    name: \"username\",\n    value: loginData.username,\n    onChangeText: function onChangeText(text) {\n      return setLoginData(_objectSpread(_objectSpread({}, loginData), {}, {\n        username: text\n      }));\n    },\n    leftIcon: React.createElement(Icon, {\n      name: \"user\",\n      size: 24,\n      color: \"black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 21\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Password\",\n    name: \"password\",\n    value: loginData.password,\n    errorStyle: {\n      color: 'red'\n    },\n    errorMessage: \"password is wrong\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      return setLoginData(_objectSpread(_objectSpread({}, loginData), {}, {\n        password: text\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"Login\",\n    buttonStyle: {\n      backgroundColor: '#3ca938'\n    },\n    onPress: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }));\n\n  function handleSubmit(nativeEvent) {\n    loginWithUserCredentials(loginData).then(function () {\n      return navigation.navigate({\n        DashboardScreen: DashboardScreen\n      });\n    }).catch(function () {\n      return setError(\"Unknown username or password.\");\n    });\n  }\n}","map":{"version":3,"sources":["/Users/malte/Desktop/secretAllergy/secret-allergy/frontend/src/components/LoginScreen/LoginForm.js"],"names":["React","useContext","useState","Input","Button","Icon","AuthContext","DashboardScreen","initialState","username","password","LoginForm","navigation","loginWithUserCredentials","loginData","setLoginData","error","setError","text","color","backgroundColor","handleSubmit","nativeEvent","then","navigate","catch"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;;AAEA,SAAQC,KAAR,EAAeC,MAAf,QAA4B,uBAA5B;AACA,OAAOC,IAAP;AACA,OAAOC,WAAP;AACA,OAAOC,eAAP;AAEA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,EADO;AAEjBC,EAAAA,QAAQ,EAAE;AAFO,CAArB;AAIA,eAAe,SAASC,SAAT,OAAkC;AAAA,MAAbC,UAAa,QAAbA,UAAa;;AAAA,oBAERX,UAAU,CAACK,WAAD,CAFF;AAAA,MAErCO,wBAFqC,eAErCA,wBAFqC;;AAAA,kBAIXX,QAAQ,CAACM,YAAD,CAJG;AAAA;AAAA,MAItCM,SAJsC;AAAA,MAI3BC,YAJ2B;;AAAA,mBAKnBb,QAAQ,CAAC,EAAD,CALW;AAAA;AAAA,MAKtCc,KALsC;AAAA,MAK/BC,QAL+B;;AAO7C,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AACI,IAAA,WAAW,EAAC,UADhB;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAEH,SAAS,CAACL,QAHrB;AAII,IAAA,YAAY,EAAE,sBAAAS,IAAI;AAAA,aAAIH,YAAY,iCAAKD,SAAL;AAAgBL,QAAAA,QAAQ,EAACS;AAAzB,SAAhB;AAAA,KAJtB;AAMI,IAAA,QAAQ,EACJ,oBAAC,IAAD;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,IAAI,EAAE,EAFV;AAGI,MAAA,KAAK,EAAC,OAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAeI,oBAAC,KAAD;AACI,IAAA,WAAW,EAAC,UADhB;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAEJ,SAAS,CAACJ,QAHrB;AAII,IAAA,UAAU,EAAE;AAAES,MAAAA,KAAK,EAAE;AAAT,KAJhB;AAKI,IAAA,YAAY,EAAC,mBALjB;AAMI,IAAA,eAAe,EAAE,IANrB;AAOI,IAAA,YAAY,EAAE,sBAAAD,IAAI;AAAA,aAAIH,YAAY,iCAAKD,SAAL;AAAgBJ,QAAAA,QAAQ,EAAEQ;AAA1B,SAAhB;AAAA,KAPtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfJ,EAyBI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,OADV;AAEI,IAAA,WAAW,EAAE;AAACE,MAAAA,eAAe,EAAC;AAAjB,KAFjB;AAGI,IAAA,OAAO,EAAEC,YAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBJ,CADJ;;AAmCA,WAASA,YAAT,CAAsBC,WAAtB,EAAmC;AAC/BT,IAAAA,wBAAwB,CAACC,SAAD,CAAxB,CACKS,IADL,CACU;AAAA,aAAMX,UAAU,CAACY,QAAX,CAAoB;AAACjB,QAAAA,eAAe,EAAfA;AAAD,OAApB,CAAN;AAAA,KADV,EAEKkB,KAFL,CAEW;AAAA,aAAMR,QAAQ,CAAC,+BAAD,CAAd;AAAA,KAFX;AAGH;AACJ","sourcesContent":["import React, {useContext, useState} from 'react';\nimport {View} from 'react-native';\nimport {Input, Button} from 'react-native-elements';\nimport Icon from 'react-native-vector-icons/FontAwesome';\nimport AuthContext from \"../../context/AuthContext\";\nimport DashboardScreen from \"../../screens/DashboardScreen\";\n\nconst initialState = {\n    username: \"\",\n    password: \"\",\n};\nexport default function LoginForm( {navigation} ){\n\n    const { loginWithUserCredentials } = useContext(AuthContext);\n\n    const [loginData, setLoginData] = useState(initialState);\n    const [error, setError] = useState(\"\");\n\n    return(\n        <View>\n            <Input\n                placeholder='Username'\n                name='username'\n                value={loginData.username}\n                onChangeText={text => setLoginData({...loginData, username:text})}\n\n                leftIcon={\n                    <Icon\n                        name='user'\n                        size={24}\n                        color='black'\n                    />\n                }\n            />\n            <Input\n                placeholder='Password'\n                name='password'\n                value={loginData.password}\n                errorStyle={{ color: 'red' }}\n                errorMessage='password is wrong'\n                secureTextEntry={true}\n                onChangeText={text => setLoginData({...loginData, password: text})}\n\n            />\n            <Button\n                title=\"Login\"\n                buttonStyle={{backgroundColor:'#3ca938'}}\n                onPress={handleSubmit}\n            />\n        </View>\n    );\n\n\n    function handleSubmit(nativeEvent) {\n        loginWithUserCredentials(loginData)\n            .then(() => navigation.navigate({DashboardScreen}))\n            .catch(() => setError(\"Unknown username or password.\"));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}